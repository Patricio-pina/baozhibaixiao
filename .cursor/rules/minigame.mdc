---
description: 微信小游戏开发环境
globs: 
alwaysApply: true
---
符合微信小游戏开发要求
电脑是WINDOWS系统
​一、限制条件
​类目与资质
游戏类目一经选择不可变更，需提交《网络出版服务许可证》等资质文件；
个人开发者禁止开发牌类、捕鱼、角色类游戏；
禁止抄袭或提交相似度过高的游戏（包括美术、UI等简单修改）。
​用户运营规范
禁止虚假宣传其他渠道服务（如“专属礼包仅限App领取”）；
不得强制用户下载其他客户端或阻断游戏体验（如付费认证门槛）；
停运需提前60天公告，并关闭充值入口及处理未消耗资源。
​广告与支付
广告不得遮挡功能按钮或诱导误点（如“开始游戏”按钮漂移）；
虚拟支付需通过国家审批，且iOS系统禁用虚拟道具购买功能；
个人开发者不可接入微信支付及获取用户手机号。
​二、设计要求
​核心体验
​玩法创新：需设计明确的游戏目标与反馈机制（如超越好友时标识里程碑）；
​剧情与界面：剧情需包含背景设定与角色代入感，界面需简洁且适配拇指热区操作；
​社交传播：必须接入好友/群排行榜、动态结构化消息（如观战功能）。
​技术规范
​性能优化：帧率需≥30FPS，减少DrawCall与内存泄漏（建议使用对象池）；
​包体积限制：主包≤8MB，总包≤16MB，需压缩资源并动态加载。
​三、程序框架要求
​开发工具与框架
必须使用微信开发者工具调试，支持Cocos Creator（跨平台）、Layabox（高性能2D）、Egret（TypeScript）；
若需多人实时对战或语音功能，需换用Unity/Cocos原生引擎。
​云开发要求
云函数需优化冷启动时间（预创建容器+代码精简）；
数据库权限需设置安全规则（仅允许用户读写自身数据）；
存储资源需通过CDN加速，禁止存储敏感信息。
​四、提交与审核
​提审材料：软件著作权证书、版号批文（如涉及虚拟支付）、测试账号；
​违规处理：首次违规封禁分享/搜索能力，情节严重者永久下架；
​强制停服：若需停运，需在加载页全量展示公告并关闭新用户入口。
五、必备功能
1. 基础能力
​用户信息：需调用wx.getUserProfile获取头像昵称，但禁止强制授权，符合用户隐私保护要求；
​好友关系：必须接入wx.getFriendCloudStorage实现排行榜，需加密敏感数据；
​转发分享：可实现转发到朋友，分享海报，分享到朋友圈，转发图尺寸限制为5:4，禁止诱导分享（如虚假“助力解锁”）。
2. 技术支撑能力
​连接服务端：使用云开发（wx.cloud），数据库权限需设置为read: true, write: false；
​性能优化：主包体积≤8MB，冷启动时间需≤4秒（参考Unity导出设置关闭Profiling）；
​PC适配：需响应鼠标事件并适配横屏布局，禁止直接拉伸竖版UI。
3. 商业化与运营
​广告变现：预留广告功能位，暂不设广告，Banner广告需距离屏幕边缘≥50px，激励视频需明确标注“看广告得奖励”；
​虚拟支付：iOS禁用虚拟道具购买，Android需提交《网络出版服务许可证》；
​用户召回：订阅消息模板需通过审核，发送频次≤3次/周。
4. 安全与监控
​防外挂：需启用wx.setUpdatePerformanceListener检测代码篡改；
​数据埋点：使用wx.reportAnalytics上报关键事件（如付费转化率）；
​敏感词过滤：调用wx.msgSecCheck校验用户昵称/UGC内容。
5. 新增硬核能力
​帧同步：需使用wx.createGameRoom实现实时对战，延迟补偿算法需测试3种以上机型；
​系统订阅消息：需在游戏设置页提供“通知管理”入口，禁止默认勾选；
​PC小游戏：需单独提交PC端截图，且支持键盘快捷键映射（如空格键暂停）。
​开发工具集成建议
​热点创意工具
每日调用wx.getHotKeywords获取热搜词（如“解压”），需融入游戏简介提升自然流量；
参考畅玩榜Top10的广告位布局（如插屏广告出现时机≤30秒/次）
六、图片全部自动使用简单的元素代替，做好相关内容备注即可，后期由开发者自行更换